<div align=center><h1>League of Legends 데이터로 승패예측하기 </h1></div>
<div align=center><img src = https://github.com/seonggegun/lollol/assets/79897862/f25802bc-dd95-4d91-baf6-9a7b00bb2de3></div>

<hr>


# 1. 개 요
리그 오브 레전드(LoL 또는 롤)은 중국 텐센트 산하의 라이엇 게임즈가 개발한 MOBA 장르의 게임으로, 5명의 플레이어가 각자 다른 포지션에서 성장하여 상대의 기지를 파괴하는 게임이다. 낮은 진입 장벽과 높은 전 세계 플레이어 수로 인기를 얻고, 세계적인 e스포츠 대회에서도 주목받고 있다. 국내에서는 PC방에서의 1위 점유율을 유지하며 대한민국 청소년 문화를 대표하는 게임으로 손꼽힌다.

LOL을 개발한 Riot Games는 비단 게임 자체의 재미뿐만 아니라 분석할 수 있는 데이터를 무료로 공개하고 있다. Riot Games API에서는 LOL 소환사의 개인적인 게임 정보와 더불어 경기 데이터까지 제공한다. 통계적으로 하루 24시간 동안 수집되는 경기 수는 약 20만 건에 달하며, 소정의 절차를 거치면 손쉽게 얻을 수 있다.

이번 프로젝트에서는 20만 건의 하루치 LOL 게임 데이터를 분석하여 승패를 예측하는 모델을 만들어 보고자 한다.

# 2. 데이터
## 2.1 데이터 소스
이번 프로젝트에 활용할 데이터는 온라인 게임 코칭 전문기업인 더매치랩(The Match LAB)에서 가공한 LOL 게임 데이터를 바탕으로 한다. 데이터는 2023년 8월 25일, 9월 15일, 9월 17일 각각 하루 동안 수집된 LOL 경기에 대한 세부 항목들로 구성되어 있다.

## 2.2 탐색적 데이터 분석
리그 오브 레전드에서 티어는 랭크전에서 플레이어의 개인 실력에 기반하여 결정되는 계급을 나타낸다.<br> 각 티어는 언랭크(U), 아이언(I), 브론즈(B), 실버(S), 골드(G), 플래티넘(P), 에메랄드(E), 다이아몬드(D), 마스터(M), 그랜드마스터(R), 그리고 챌린저(C)의 순서로 구성되어 있다. 티어가 높아질수록 더 희귀하고 도전적인 보상을 받을 수 있어, 많은 플레이어들이 자신의 티어를 올리기 위해 노력한다.<br>
또한 티어는 아이언부터 다이아까지 IV~I 단계로 구분되며 그이상 마스터부터는 랭킹순으로 배치되며 휴면강등이란것이 있어 계속 게임을하여 등급을 유지해야한다.
<details>
<summary>티어에 대한 정보 (표)</summary>
  <img src = https://github.com/seonggegun/lolrecord/assets/79897862/78f03c88-4312-4c3c-bf6d-5e58524bc7ae>
  <img src = https://github.com/seonggegun/lolrecord/assets/79897862/9f548192-65b7-4860-abe1-c9c2ab69f151><br>
</details>
  
<hr>
데이터는 5대5 솔로 랭크 경기 약 20만 건으로 구성되어 있으며, 포지션별로 데이터가 구분되어 있다. 5가지 포지션에 대한 내용은 다음과 같다.

<img src = https://github.com/seonggegun/lolrecord/assets/79897862/0d6dc375-4a51-4b5e-9180-fe89ae0e529a width="500" height="500">

| 포지션    |위치|역할|
|--------|---|---|
| 탑(TOP) |지도의 윗부분에 위치한 라인|탱커나 딜탱커로 주로 플레이되는 라인으로, 맵 상단에 위치하여 상대를 압박하고 텔레포트로 다른 라인에 도움을 주는 역할을 하는 라인이다. 한타에서는 팀 방어의 중심이 되며, 운영 단계에서 주로 책임지는 역할.|
| 정글(JUNGLE) |지도의 중앙에 위치하여 모든 라인을확인|정글은 모든 라이너들을 돌보며 생각과 동선이 중요한 헬퍼 역할을 하며, 몬스터 및 오브젝트 관리와 라인 지원을 통해 팀의 전략적인 주도권을 강화하는 역할.|
| 미드(MID) |지도의 중간에 위치한 라인| 미드는 중앙 라인에 위치하여 전체 맵을 지원하며, 스노우볼링을 통해 한타에서 이득을 챙기고 상대 딜러를 암살하여 전체적인 게임 흐름을 주도하는 역할.|
| 원딜(ADC) |지도의 아래에 위치한 라인| 원딜은 원거리 딜러로, 바텀 라인에서 상대를 먼 거리에서 공격하며 지속적인 딜을 주로 하는 챔피언으로, 후반에 큰 영향을 끼치는 역할.|
| 서폿(SUP) |지도의 아래에 위치한 라인| 서폿은 원거리 딜러를 지원하며 힐, 딜, 그랩, 탱 4가지 역할로 나뉘며, 와드를 활용해 미니맵 시야를 제공하고 적 시야를 제거하여 팀원을 보조하는 역할.|

※단 역할은 보통 쓰는거에 대한 설명이지 확실히 정해져있는것이 아니다. ex) 딜러형 서폿 <br>
제공된 데이터의 항목은 총 185개로 구성되어 있으며, 전반적으로 다음과 같은 내용으로 정리해볼 수 있다.

| 항목           | 데이터 속성 |
|--------------|--------|
| 플레이어에 대한 데이터 |kda, cs, largestmultikill, xp ... |
| 팀에 대한 데이터    | baron, dragon, turretkills, goldearned ... |
|라인전 전후에대한 데이터 |assist_at14, cs_at14, damagedone_at14 ...|

여기서 중요하게 고려되는 항목들은 다음과 같다. (10개)

| 데이터 속성 | 데이터의 의미     | 중요한 이유 |
|-------|----------------|--------|
| KDA   | Kill/Death/Assist의 비율|실력을 나타내는 일반적인 지표. 데미지 지표, 팀 킬 비율과 같이 보면 전투 스타일 및 더 정확한 실력을 파악가능|
|  kills  | 챔피언킬수 |킬은 경제적 이점, 경험치 획득, 상대방의 경기 참여 감소, 심리적 영향, 맵 컨트롤 확보 등을 통해 게임에서 중요한 역할을 하며, 팀의 전체적인 성과에 기여하는 중요한 지표이다.|
|dealt100,200|블루팀(100), 레드팀(200)각 팀별 챔피언에게 넣은 데미지|이번 게임에서 전투에서 얼마나 기여를하였는가를 알수있다.|
| CS100,200 | 블루팀(100), 레드팀(200) 각팀별 정글몹 + 미니언 처치수 |라인전을 유리하게 이끌어감을 알수있다. |
|Diffgold|Gold 격차|골드 격차는 라인전에서 우세하거나 많은 킬을 얻었음을 알수있고 상위 아이템을 빠르게 구비해 더 큰 전투 유리성을 얻을 수 있음을 나타낸다.|
|Goldearned100,200|블루팀(100) 레드팀(200)각 팀별 획득 골드|팀원이 더욱 유리한 상황을 이끌어갔음을 알수있다.|
|Dragon100,200|블루팀(100),레드팀(200)각 팀별 드래곤 처치 수|드래곤 처치로 얻는 버프는 게임에서 유리한 상황을 조성하며, 팀 간의 경쟁에서 드래곤을 성공적으로 먹는 것은 전체적인 게임 흐름에서 우위를 차지했음을 알수있다.|
|Baron100,200|블루팀(100), 레드팀(200)각 팀별 내셔남작 처치 수|내셔남작 처치로 얻는 버프는 게임에서 유리한 상황을 조성하며, 팀 간의 경쟁에서 드래곤을 성공적으로 먹는 것은 전체적인 게임 흐름에서 우위를 차지했음을 알수있다.|
|Visionscore100,200|블루팀(100), 레드팀(200) 각팀별 시야점수|적의 진형에 더 많이 침입하여 상대의 행동 및 위치를 파악함으로써, 전투 상황에서 상대를 예측하고 유리한 전략을 세울 수 있다.|
|Tower100,200|블루팀(100) 레드팀(200)각 팀별 파괴한 타워수|타워를 파괴하는 것은 전략적으로 맵 컨트롤을 확보하고 골드를 얻으며, 맵을 오픈하고 게임 진행 속도를 높이며, 전략적인 우위를 취하는데 중요한 역할을 하며 게임의 승부 결정에 큰 영향을 끼친다.|

## 2.3 데이터 전처리
20만 건의 경기 데이터는 수준 별로 편차가 어느정도 존재할 것으로 예상된다. 따라서 일정 수준 이상의 데이터로 지표의 상관성을 통해 승패예측 모델을 만드는 것이 합리적일 것이다.

이에 이번 프로젝트에서는 다음과 같이 정의되는 LOL게임의 등급체계(tier)를 바탕으로, 모든 플레이어가 플래티넘 이상인 경기를 추출하여 분석해보고자 한다.
<details>
<summary>0825전체 및 플레티넘 이상데이터</summary>
  <img src = https://github.com/seonggegun/lollol/assets/79897862/a851bec3-e5ed-4acc-a3ce-c42102842b02 width ="613" height="392">
  <img src = https://github.com/seonggegun/lollol/assets/79897862/bebcef5f-7389-45ce-81e7-4f189a8519e7 width ="613" height="392">
</details>
<details>
<summary>0915전체 및 플레티넘 이상데이터</summary>
  <img src = https://github.com/seonggegun/lollol/assets/79897862/3424ab67-070c-4d66-aeca-2ac3219c3d06 width ="613" height="392">
  <img src = https://github.com/seonggegun/lollol/assets/79897862/0ba8b2b1-bbaf-4b74-979e-5fab506ab589 width ="613" height="392">
</details>
<details>
<summary>0917전체 및 플레티넘 이상데이터</summary>
  <img src = https://github.com/seonggegun/lollol/assets/79897862/0db1bb24-e5a1-4226-9d33-d46b3feb71c7 width ="613" height="392">
  <img src = https://github.com/seonggegun/lollol/assets/79897862/084c6506-9bed-4828-8c76-87db22de7a4f width ="613" height="392">
</details>
20만건 전체데이터 및 플레티넘 이상의 경기에 대해서, 핵심 데이터 속성으로 kda, kills, dealt, cs, diffgold등 10개의데이터를 추출했는데. 그 이유는 먼저 중요하게 고려되는 항목에서 소개 하였듯이 보다 경기의 승패에 직관적으로 연관이 있다고 판단했기때문이다. 그리고 승패를 예측하는 것이기 때문에, 경기 데이터를 기준으로 데이터 속성별 정규화(normalize)를 수행했다.  

## 2.4 데이터 프레임 설계

탐색적 데이터 분석과 데이터 전처리를 통해 다음과 같은 데이터 프레임을 만들고자 한다.

| Id  | 팀  | 주요지표 | TOP |MID|JUG|SPT|ADC|
|-----|-----|---------|-----|---|---|---|---|
| 고유번호 | 100| kda | 0.0|0.2727|0.3535|0.7575|0.3030|
|  | | kills |0.375|0.375|0.375|0.125|1.0|
|  | | dealt |0.509|0.280|0.113|0.113|1.0|
|  | | cs |1.0|1.0|1.0|1.0|1.0|
|...| ...|...|...|...|...|...|...|
|  | 200| kills |0.75|0.75|1.0|0.0|0.25|
|  | | win |1|1|1|1|1|
|||tier|E|E|P|E|E|
# 3. 승패예측 모델

## 3.1 모델 개요
이 모델은 각 팀의 특징 데이터를 합산하고 정규화한 후 승패를 예측하는 단순한 규칙 기반 모델이다. 머신러닝 알고리즘을 사용하지 않고 간단한 비교만을 수행하기 때문에 정확도에 한계가 있다. 더 정교한 예측을 위해서는 머신러닝 알고리즘을 활용해야 한다.

## 3.2 성능
0825, 0915, 0917 데이터의 전체 데이터와 한 게임의 플레이어가 모두 플래티넘 이상 게임 데이터의 승패 예측 정확도를 확인해보면 다음과 같다.
<details>
<summary>0825 전체 및 플레티넘이상 승패예측데이터</summary>
 <img src = https://github.com/seonggegun/lollol/assets/79897862/4a90069b-6c13-4206-8558-d9e801edf8eb>
 <img src = https://github.com/seonggegun/lollol/assets/79897862/9c48bafc-5d83-4391-9cef-e0820a153a32>
</details>

전체 데이터에서 예측이 실제 결과와 일치한 횟수 : 194773, 전체 경기의 수 : 201545, 정확도 : 0.966399563372944로 <br>**정확도가 96.6%가** 나온다.<br>
플래티넘 이상 추출한 데이터에서 예측이 실제 결과와 일치한 횟수 : 43798, 전체 경기의 수 : 44962, 정확도 : 0.9741114719096126로 <br>**정확도가 97.4%가** 나온다.

<details>
<summary>0915 전체 및 플레티넘이상 승패예측데이터</summary>
 <img src = https://github.com/seonggegun/lollol/assets/79897862/781016c1-99fa-4126-a7e9-c62d0a0f1892>
 <img src = https://github.com/seonggegun/lollol/assets/79897862/1e7ab281-395a-45ed-8675-066d9e0e4df5>
</details>

전체 데이터에서 예측이 실제 결과와 일치한 횟수 : 169098, 전체 경기의 수 : 178580, 정확도 : 0.9469033486392653로 <br>**정확도가 94.6%가** 나온다.<br>
플래티넘 이상 추출한 데이터에서 예측이 실제 결과와 일치한 횟수 : 27231, 전체 경기의 수 : 28209, 정확도 : 0.9653302137615655로 <br>**정확도가 96.5%가** 나온다.

<details>
<summary>0917 전체 및 플레티넘이상 승패예측데이터</summary>
 <img src = https://github.com/seonggegun/lollol/assets/79897862/f4f69ff1-c20c-4198-a054-b14f21633310>
 <img src = https://github.com/seonggegun/lollol/assets/79897862/c3b0ab4c-5ebf-4fd7-bf80-7317cd43bd2c>
</details>

전체 데이터에서 예측이 실제 결과와 일치한 횟수 : 250275, 전체 경기의 수 : 264395, 정확도 : 0.9465950566387413로 <br>**정확도가 94.6%가** 나온다.<br>
플래티넘 이상 추출한 데이터에서 예측이 실제 결과와 일치한 횟수 : 23925, 전체 경기의 수 : 25208, 정확도 : 0.9491034592192955로 <br>**정확도가 94.9%** 나온다.
## 3.3 소결
* 성능에 대한 의미
  해당 프로젝트는 롤(리그 오브 레전드) 게임에서의 승패를 예측하는 모델의 성능을 종합하는 과정을 포함한다. 코드 실행 결과에서 얻은 정확도는 모델이 예측한 결과가 실제 승패와 얼마나 일치하는지를 측정한다. 높은 정확도는 모델이 승패를 효과적으로 예측했다는 것을 나타내며, 낮은 정확도는 모델의 성능이 낮다는 것을 나타내는데 높은 정확도를 예측한것을 보아 모델이 성능이 좋았음을 알수있고 또한 중요하다고 생각했던 지표들이 실제로 중요했음을 알수있다.
* 핵심 데이터 항목에 대한 추정 및 분석
 주어진 핵심 데이터는 게임에서 플레이어 및 팀의 성과를 파악하는 데 중요한 지표들로 구성됩니다. KDA, kills, dealt, CS, diffgold,Goldearned, dragon 및 baron, Visionscore, tower 등은 게임 전략에 처음엔 사소하지만 나중에 가면갈수록 큰 영향을 미치며, 이를 통해 플레이어 및 팀의 경기 내 활약을 추정하고 분석할 수 있다. 저 데이터들은 게임을 승리로 이끌어가는데 중요한 역할을 하며 이러한 데이터를 기반으로 게임 전략을 구사하여 승리에 도달하는 데 활용할 수 있다.
# 4. 결론 및 배운점
KDA, kills, dealt, CS, diffgold,Goldearned, dragon 및 baron, Visionscore, tower 이 핵심데이터가 승패예측에서 높은 적중률을 보여줌은 이를 시사한다.<br>
* KDA, kills, dealt : 게임의 활약성 및 한타의 중요도<br>
* CS, diffgold, Goldearned : 게임 자원이 적들 보다 앞서가서 보다 빠른 템을 맞추는 중요도<br>
* dragon, baron, Visionscore, tower : 전투 버프와 맵의 시야 장악력 중요도<br>
  
이 핵심 데이터를 활용한 롤 게임의 예측 모델은 플레이어와 팀의 성과를 정량적으로 추정하고, 이를 기반으로 누가 게임에서 큰 기여를 하는지를 분석하는 시도를 보여준다.
이러한 종합적인 접근을 통해 게임 전략 수립 및 예측을 시도하며, 이로써 게임 승리로 이끄는 요인을 찾아내는데 도움을 줄 것으로 기대된다. 또한, 정규화(normalize)된 경기 데이터를 활용함으로써 모델의 성능을 향상시킬 수 있다는 점도 강조된다.
이 프로젝트를 통해 게임 데이터의 중요성과 다양한 지표가 예측 모델에 미치는 영향을 파악하였으며, 이러한 분석과 모델링이 전략적인 게임에서 승리를 예측하는 데 유용하게 활용될 수 있음을 알 수 있었다.
